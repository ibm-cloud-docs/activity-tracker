---

copyright:
  years: 2019, 2024
lastupdated: "2024-05-24"

keywords:

subcollection: activity-tracker

---

{{site.data.keyword.attribute-definition-list}}

# Managing access groups (WIP)
{: #iam_ag_events}



You can monitor interactions on access groups in your account by using the {{site.data.keyword.at_full_notm}} service.
{: shortdesc}


{{../../log-analysis/_include-segments/deprecation_notice.md}}

You can use access groups to organize a set of users and service IDs into a single entity that makes it easy for you to assign access to {{site.data.keyword.cloud_notm}} resources. For example, you can assign a single policy to the group instead of assigning the same access multiple times per individual user or service ID. [Learn more](/docs/account?topic=account-groups).


| Working with access groups                                             | Actions                                        |
|:-----------------------------------------------------------------------|-----------------------------------------------|
| `Create an access group`                                               | `iam-groups.group.create` |
| `Add a user to a group or add service ID to a group`                   | `iam-groups.group.read`   \n `iam-groups.member.add` |
| `Remove an access group`                                               | `iam-groups.group.delete`   \n `iam-groups iam-groups.members.delete`   \n `iam-groups iam-groups.rules.delete` |
| `Rename an access group`                                               | `iam-groups.group.read`   \n `iam-groups.group.update` |
{: caption="Table 1. Access group events" caption-side="top"}



## Create an access group
{: #iam_ag_events_create}

When you create an access group, you get an event that is generated by the platform service **iam-groups** with action **iam-groups.group.create**.

```text
5/Dec/2019:16:32:00 iam-groups IAM Access Groups: create group test
```
{: screen}

In the field **requestData**, you get information about the access group that has been created and the description entered.

```text
"requestData": {
        "name": "SampleAG",
        "description": "My new access group"
    }
```
{: screen}

In the field **target.name**, you get the name of the access group.

In the field **target.id**, you get the GUID of the access group.


## Rename an access group
{: #iam_ag_events_update}

When you rename an access group, you get an event that is generated by the platform service **iam-groups** with action **iam-groups.group.update**.

```text
5/Dec/2019:16:37:00 iam-groups IAM Access Groups: update group test
```
{: screen}

The field **target.name** indicates the original value of the access group.

The field **target.id** indicates the GUID of the access group. This value cannot be changed.

In the field **requestData**, you get information about the new name and the description entered.

```text
"requestData": {
        "name": "New-SampleAG",
        "description": "My new access group"
    }
```
{: screen}

## Add a user to a group
{: #iam_ag_events_add_user}

When you add a user to an access group, you get the following events that are generated by the platform service **iam-groups**:

* Event with action **iam-groups.group.read**: This event informs that a user has opened the access group dashboard.
* Event with action **iam-groups.member.add**: This event informs that a user has been added to a group.

```text
5/Dec/2019:16:49:45 iam-groups IAM Access Groups: read group new-name
5/Dec/2019:16:49:51 iam-groups IAM Access Groups: add member new-name
```
{: screen}


The field **target.name** indicates the access group where the user is added.

The field **target.id** indicates the GUID of the access group.





## Add a service ID to a group
{: #iam_ag_events_add_svcid}

When you add a user to an access group, you

```text
5/Dec/2019:16:49:45 iam-groups IAM Access Groups: read group new-name
5/Dec/2019:16:49:51 iam-groups IAM Access Groups: add member new-name
```
{: screen}

## Delete an access group
{: #iam_ag_events_delete}

When you delete an access group, you get an event that is generated by the platform service **iam-groups** with action **iam-groups.group.delete**.

When an access group is deleted:
* Other actions are automatically triggered to clean up resources that are associated with the group. Some actions that are triggered report events that are related to deletion of members in an access group, deletion of policies, and deletion of dynamic rules.
* The initiator of these actions is an {{site.data.keyword.IBM_notm}} service ID.


When the access group that is deleted does not have members, policies, and rules assigned, the events that are generated for any of these resources report an outcome of `failure` with a `404` outcome code. The following example shows the events that are generated when an access group that does not have members, policies or dynamic rules assigned is deleted:

```text
Apr 29 14:11:22 IAM Access Groups: delete group test5
Apr 29 14:11:24 IAM Access Groups: delete members -failure
Apr 29 14:11:24 IAM Access Groups: delete rules -failure
Apr 29 14:11:24 IAM Access Management: delete policy -failure
```
{: screen}




## Events that are generated when you manage access groups and policies
{: #iam_ag_events_generated}

| Working with policies and access groups                                | Service     | Actions                                        |
|:-----------------------------------------------------------------------|:------------|:-----------------------------------------------|
| `Add a policy by assigning access to resources`                        | `IAM`       | `iam-groups.group.read`   \n `iam-am.policy.create` |
| `Add a policy by assigning access within a resource group to a resource group` | `IAM`       |  `iam-groups.group.read`   \n `iam-am.policy.create` |
| `Add a policy by assigning access within a resource group to a resource group and to a service in the resource group` | `IAM` | `iam-groups.group.read`   \n `iam-am.policy.create` for the resource group permissions   \n   \n `iam-am.policy.create` for the service permissions within the resource group |
| `Add a policy by assigning access to account management services`      | `IAM`       | `iam-groups.group.read`   \n `iam-am.policy.create` |
| `Modify a policy for an access group`                                  | `IAM`       | `iam-groups.group.read`   \n `iam-am.policy.update` |
| `Delete a policy`                                                      | `IAM`       | `iam-groups.group.read`   \n `iam-am.policy.delete` |
{: caption="Table 2. Events generated when access groups and policies are managed" caption-side="top"}
